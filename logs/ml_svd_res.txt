failed to get console mode for stdout: The handle is invalid.
Looking in indexes: https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/simple
Collecting torch==1.13.1
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/torch/1.13.1/torch-1.13.1-cp38-cp38-manylinux1_x86_64.whl (887.4 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 887.4/887.4 MB 288.2 MB/s eta 0:00:00
Collecting scipy==1.10.1
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/scipy/1.10.1/scipy-1.10.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.5 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 34.5/34.5 MB 296.8 MB/s eta 0:00:00
Collecting numpy==1.22.2
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/numpy/1.22.2/numpy-1.22.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.8 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.8/16.8 MB 72.5 MB/s eta 0:00:00
Collecting scikit-learn==1.2.1
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/scikit-learn/1.2.1/scikit_learn-1.2.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (9.8 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 9.8/9.8 MB 197.4 MB/s eta 0:00:00
Collecting tqdm==4.64.1
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/tqdm/4.64.1/tqdm-4.64.1-py2.py3-none-any.whl (78 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.5/78.5 kB 273.6 MB/s eta 0:00:00
Collecting pandas==1.5.3
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/pandas/1.5.3/pandas-1.5.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.2 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.2/12.2 MB 278.6 MB/s eta 0:00:00
Collecting numba>=0.21.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/numba/0.57.0/numba-0.57.0-cp38-cp38-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (3.6 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.6/3.6 MB 32.2 MB/s eta 0:00:00
Requirement already satisfied: requests>=2.7.0 in /usr/local/lib/python3.8/dist-packages (from -r /home/requirements.txt (line 8)) (2.28.2)
Collecting ipython==8.0.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/ipython/8.0.0/ipython-8.0.0-py3-none-any.whl (747 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 747.4/747.4 kB 287.7 MB/s eta 0:00:00
Collecting nvidia-cuda-runtime-cu11==11.7.99
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/nvidia-cuda-runtime-cu11/11.7.99/nvidia_cuda_runtime_cu11-11.7.99-py3-none-manylinux1_x86_64.whl (849 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 849.3/849.3 kB 57.0 MB/s eta 0:00:00
Collecting nvidia-cudnn-cu11==8.5.0.96
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/nvidia-cudnn-cu11/8.5.0.96/nvidia_cudnn_cu11-8.5.0.96-2-py3-none-manylinux1_x86_64.whl (557.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 557.1/557.1 MB 157.9 MB/s eta 0:00:00
Collecting nvidia-cuda-nvrtc-cu11==11.7.99
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/nvidia-cuda-nvrtc-cu11/11.7.99/nvidia_cuda_nvrtc_cu11-11.7.99-2-py3-none-manylinux1_x86_64.whl (21.0 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 21.0/21.0 MB 239.1 MB/s eta 0:00:00
Collecting nvidia-cublas-cu11==11.10.3.66
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/nvidia-cublas-cu11/11.10.3.66/nvidia_cublas_cu11-11.10.3.66-py3-none-manylinux1_x86_64.whl (317.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 317.1/317.1 MB 274.9 MB/s eta 0:00:00
Requirement already satisfied: typing-extensions in /usr/local/lib/python3.8/dist-packages (from torch==1.13.1->-r /home/requirements.txt (line 1)) (4.4.0)
Collecting joblib>=1.1.1
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/joblib/1.2.0/joblib-1.2.0-py3-none-any.whl (297 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 298.0/298.0 kB 283.4 MB/s eta 0:00:00
Collecting threadpoolctl>=2.0.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/threadpoolctl/3.1.0/threadpoolctl-3.1.0-py3-none-any.whl (14 kB)
Collecting python-dateutil>=2.8.1
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/python-dateutil/2.8.2/python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 268.0 MB/s eta 0:00:00
Collecting pytz>=2020.1
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/pytz/2023.3/pytz-2023.3-py2.py3-none-any.whl (502 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 502.3/502.3 kB 294.6 MB/s eta 0:00:00
Collecting jedi>=0.16
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/jedi/0.18.2/jedi-0.18.2-py2.py3-none-any.whl (1.6 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 217.8 MB/s eta 0:00:00
Requirement already satisfied: setuptools>=18.5 in /usr/local/lib/python3.8/dist-packages (from ipython==8.0.0->-r /home/requirements.txt (line 9)) (66.0.0)
Collecting prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/prompt-toolkit/3.0.38/prompt_toolkit-3.0.38-py3-none-any.whl (385 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 385.8/385.8 kB 293.9 MB/s eta 0:00:00
Collecting traitlets>=5
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/traitlets/5.9.0/traitlets-5.9.0-py3-none-any.whl (117 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 117.4/117.4 kB 273.7 MB/s eta 0:00:00
Collecting black
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/black/23.3.0/black-23.3.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 145.6 MB/s eta 0:00:00
Collecting stack-data
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/stack-data/0.6.2/stack_data-0.6.2-py3-none-any.whl (24 kB)
Requirement already satisfied: pexpect>4.3 in /usr/local/lib/python3.8/dist-packages (from ipython==8.0.0->-r /home/requirements.txt (line 9)) (4.8.0)
Collecting backcall
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/backcall/0.2.0/backcall-0.2.0-py2.py3-none-any.whl (11 kB)
Collecting matplotlib-inline
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/matplotlib-inline/0.1.6/matplotlib_inline-0.1.6-py3-none-any.whl (9.4 kB)
Requirement already satisfied: pygments in /usr/local/lib/python3.8/dist-packages (from ipython==8.0.0->-r /home/requirements.txt (line 9)) (2.14.0)
Collecting decorator
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/decorator/5.1.1/decorator-5.1.1-py3-none-any.whl (9.1 kB)
Collecting pickleshare
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/pickleshare/0.7.5/pickleshare-0.7.5-py2.py3-none-any.whl (6.9 kB)
Requirement already satisfied: wheel in /usr/local/lib/python3.8/dist-packages (from nvidia-cublas-cu11==11.10.3.66->torch==1.13.1->-r /home/requirements.txt (line 1)) (0.38.4)
Collecting llvmlite<0.41,>=0.40.0dev0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/llvmlite/0.40.0/llvmlite-0.40.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (42.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.1/42.1 MB 136.4 MB/s eta 0:00:00
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.8/dist-packages (from numba>=0.21.0->-r /home/requirements.txt (line 7)) (4.13.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.8/dist-packages (from requests>=2.7.0->-r /home/requirements.txt (line 8)) (3.0.1)
Requirement already satisfied: idna<4,>=2.5 in /usr/lib/python3/dist-packages (from requests>=2.7.0->-r /home/requirements.txt (line 8)) (2.8)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.8/dist-packages (from requests>=2.7.0->-r /home/requirements.txt (line 8)) (1.26.14)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.7.0->-r /home/requirements.txt (line 8)) (2019.11.28)
Collecting parso<0.9.0,>=0.8.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/parso/0.8.3/parso-0.8.3-py2.py3-none-any.whl (100 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100.8/100.8 kB 273.6 MB/s eta 0:00:00
Requirement already satisfied: ptyprocess>=0.5 in /usr/local/lib/python3.8/dist-packages (from pexpect>4.3->ipython==8.0.0->-r /home/requirements.txt (line 9)) (0.7.0)
Collecting wcwidth
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/wcwidth/0.2.6/wcwidth-0.2.6-py2.py3-none-any.whl (29 kB)
Requirement already satisfied: six>=1.5 in /usr/lib/python3/dist-packages (from python-dateutil>=2.8.1->pandas==1.5.3->-r /home/requirements.txt (line 6)) (1.14.0)
Requirement already satisfied: tomli>=1.1.0 in /usr/local/lib/python3.8/dist-packages (from black->ipython==8.0.0->-r /home/requirements.txt (line 9)) (2.0.1)
Collecting pathspec>=0.9.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/pathspec/0.11.1/pathspec-0.11.1-py3-none-any.whl (29 kB)
Requirement already satisfied: platformdirs>=2 in /usr/local/lib/python3.8/dist-packages (from black->ipython==8.0.0->-r /home/requirements.txt (line 9)) (2.6.2)
Collecting mypy-extensions>=0.4.3
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/mypy-extensions/1.0.0/mypy_extensions-1.0.0-py3-none-any.whl (4.7 kB)
Collecting click>=8.0.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/click/8.1.3/click-8.1.3-py3-none-any.whl (96 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 17.2 MB/s eta 0:00:00
Requirement already satisfied: packaging>=22.0 in /usr/local/lib/python3.8/dist-packages (from black->ipython==8.0.0->-r /home/requirements.txt (line 9)) (23.0)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.8/dist-packages (from importlib-metadata->numba>=0.21.0->-r /home/requirements.txt (line 7)) (3.11.0)
Collecting pure-eval
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/pure-eval/0.2.2/pure_eval-0.2.2-py3-none-any.whl (11 kB)
Collecting executing>=1.2.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/executing/1.2.0/executing-1.2.0-py2.py3-none-any.whl (24 kB)
Collecting asttokens>=2.1.0
  Downloading https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/packages/packages/asttokens/2.2.1/asttokens-2.2.1-py2.py3-none-any.whl (26 kB)
Installing collected packages: wcwidth, pytz, pure-eval, pickleshare, executing, backcall, traitlets, tqdm, threadpoolctl, python-dateutil, prompt-toolkit, pathspec, parso, nvidia-cuda-runtime-cu11, nvidia-cuda-nvrtc-cu11, nvidia-cublas-cu11, numpy, mypy-extensions, llvmlite, joblib, decorator, click, asttokens, stack-data, scipy, pandas, nvidia-cudnn-cu11, numba, matplotlib-inline, jedi, black, torch, scikit-learn, ipython
Successfully installed asttokens-2.2.1 backcall-0.2.0 black-23.3.0 click-8.1.3 decorator-5.1.1 executing-1.2.0 ipython-8.0.0 jedi-0.18.2 joblib-1.2.0 llvmlite-0.40.0 matplotlib-inline-0.1.6 mypy-extensions-1.0.0 numba-0.57.0 numpy-1.22.2 nvidia-cublas-cu11-11.10.3.66 nvidia-cuda-nvrtc-cu11-11.7.99 nvidia-cuda-runtime-cu11-11.7.99 nvidia-cudnn-cu11-8.5.0.96 pandas-1.5.3 parso-0.8.3 pathspec-0.11.1 pickleshare-0.7.5 prompt-toolkit-3.0.38 pure-eval-0.2.2 python-dateutil-2.8.2 pytz-2023.3 scikit-learn-1.2.1 scipy-1.10.1 stack-data-0.6.2 threadpoolctl-3.1.0 torch-1.13.1 tqdm-4.64.1 traitlets-5.9.0 wcwidth-0.2.6
Looking in indexes: https://artifactory.tcsbank.ru/artifactory/api/pypi/python-all/simple
Collecting polara
  Cloning https://github.com/evfro/polara.git (to revision develop) to /tmp/pip-install-ru1dhvll/polara_5b87e992855d4b2eab26d8513f8eef57
  Resolved https://github.com/evfro/polara.git to commit 8e48cfd88e616ca53f8bbda1702a3e2c8abaf38e
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Building wheels for collected packages: polara
  Building wheel for polara (setup.py): started
  Building wheel for polara (setup.py): finished with status 'done'
  Created wheel for polara: filename=polara-0.7.2.dev0-py3-none-any.whl size=89447 sha256=ebc1066b456a7b0689ef9dcaaf7d115cea6c33ca78dccf3397f11d3eab45c511
  Stored in directory: /tmp/pip-ephem-wheel-cache-5ca5_3fz/wheels/5e/e1/4c/eaa6d1a342974af58b0efac692b6846b8c034f8904e428626b
Successfully built polara
Installing collected packages: polara
Successfully installed polara-0.7.2.dev0
There are 6040 users
Filtered 93 invalid observations.
HR@5:0.039700805523590336, MRR@5: 0.021355964710395095, Coverage@5: 0.19482809285924185, NCDG@5: 0.02586695588144945, HR_pos@5: 0.03855005753739931, HR_neg@5: 0.0011507479861910242, MRR_pos@5: 0.020665515918680478, MRR_neg@5: 0.0006904487917146145, NCDG_pos@5: 0.02506899684391519, NDCG_neg@5: 0.0007979590375342587, Matthews@5: 0.026821661783873397
HR@10:0.06329113924050633, MRR@10: 0.024434672219482343, Coverage@10: 0.24037613870114605, NCDG@10: 0.033427925920035954, HR_pos@10: 0.061565017261219795, HR_neg@10: 0.0017261219792865361, MRR_pos@10: 0.02364832776225181, MRR_neg@10: 0.0007863444572305332, NCDG_pos@10: 0.03242501453088603, NDCG_neg@10: 0.0010029113891499217, Matthews@10: 0.03615795698918541
HR@20:0.10586881472957423, MRR@20: 0.027337879253669796, Coverage@20: 0.3009109609168381, NCDG@20: 0.04412806873495375, HR_pos@20: 0.10241657077100115, HR_neg@20: 0.0034522439585730723, MRR_pos@20: 0.026435099699046727, MRR_neg@20: 0.0009027795546230671, NCDG_pos@20: 0.04269354996641428, NDCG_neg@20: 0.0014345187685394615, Matthews@20: 0.04015848249674608
HR@5:0.051208285385500575, MRR@5: 0.02427119294207902, Coverage@5: 0.18131060828680576, NCDG@5: 0.030895382691121128, HR_pos@5: 0.04602991944764097, HR_neg@5: 0.005178365937859608, MRR_pos@5: 0.021691599539700807, MRR_neg@5: 0.0025795934023782126, NCDG_pos@5: 0.027674915813528007, NDCG_neg@5: 0.003220466877593124, Matthews@5: 0.047454256456855165
HR@10:0.06962025316455697, MRR@10: 0.026652145323031402, Coverage@10: 0.2383191301792536, NCDG@10: 0.03677074705725247, HR_pos@10: 0.06329113924050633, HR_neg@10: 0.006329113924050633, MRR_pos@10: 0.023919118855827724, MRR_neg@10: 0.0027330264672036824, NCDG_pos@10: 0.03317900744466171, NDCG_neg@10: 0.0035917396125907703, Matthews@10: 0.06315697727428936
HR@20:0.12313003452243958, MRR@20: 0.03041296869644816, Coverage@20: 0.3085512782838672, NCDG@20: 0.050351728918466156, HR_pos@20: 0.11104718066743383, HR_neg@20: 0.012082853855005753, MRR_pos@20: 0.027309031847850888, MRR_neg@20: 0.0031039368485972713, NCDG_pos@20: 0.04534131059329215, NDCG_neg@20: 0.005010418325174, Matthews@20: 0.07946501889860959
HR@5:0.05178365937859609, MRR@5: 0.025911008822401226, Coverage@5: 0.191595650896268, NCDG@5: 0.03223761903793746, HR_pos@5: 0.0379746835443038, HR_neg@5: 0.01380897583429229, MRR_pos@5: 0.018814729574223248, MRR_neg@5: 0.007096279248177981, NCDG_pos@5: 0.023503045227378134, NDCG_neg@5: 0.008734573810559327, Matthews@5: 0.07778730031806037
HR@10:0.07767548906789414, MRR@10: 0.0291675799587192, Coverage@10: 0.2515427563914193, NCDG@10: 0.040407449943082485, HR_pos@10: 0.05868814729574223, HR_neg@10: 0.0189873417721519, MRR_pos@10: 0.021448892176740283, MRR_neg@10: 0.007718687781978921, NCDG_pos@10: 0.030067741066761116, NDCG_neg@10: 0.010339708876321376, Matthews@10: 0.10961808171500373
HR@20:0.12543153049482164, MRR@20: 0.03244083307463514, Coverage@20: 0.32853364678225094, NCDG@20: 0.052430711735607226, HR_pos@20: 0.0903337169159954, HR_neg@20: 0.035097813578826235, MRR_pos@20: 0.02362568678879196, MRR_neg@20: 0.008815146285843184, NCDG_pos@20: 0.03804679888709381, NDCG_neg@20: 0.014383912848513423, Matthews@20: 0.11600393614639236
HR@5:0.04372842347525892, MRR@5: 0.02012850019179133, Coverage@5: 0.2538936232735821, NCDG@5: 0.025901051011636065, HR_pos@5: 0.01611047180667434, HR_neg@5: 0.02761795166858458, MRR_pos@5: 0.007901802838511699, MRR_neg@5: 0.012226697353279631, NCDG_pos@5: 0.009910225278852627, NDCG_neg@5: 0.01599082573278344, Matthews@5: 0.07166695800895297
HR@10:0.07249712313003452, MRR@10: 0.023835552633020986, Coverage@10: 0.3379371143109021, NCDG@10: 0.0350679006257656, HR_pos@10: 0.02704257767548907, HR_neg@10: 0.045454545454545456, MRR_pos@10: 0.00920004749118673, MRR_neg@10: 0.014635505141834256, NCDG_pos@10: 0.013281906936497351, NDCG_neg@10: 0.021785993689268247, Matthews@10: 0.0967606742011692
HR@20:0.12140391254315305, MRR@20: 0.027094604007099066, Coverage@20: 0.46018219218336764, NCDG@20: 0.047266213490811435, HR_pos@20: 0.04660529344073648, HR_neg@20: 0.07479861910241657, MRR_pos@20: 0.010482059442400497, MRR_neg@20: 0.016612544564698566, NCDG_pos@20: 0.018133775306831478, NDCG_neg@20: 0.029132438183979967, Matthews@20: 0.13828607048631011
[[init-process] Main process terminated]
